. lib/functions
basename "$0"
bochs_src=https://github.com/svn2github/bochs.git
goodrev=4a827badc45ba6289cd7e77067bab1a3ccb9bd73
export noks=0

(\
check checking wget;             wget --help                      >/dev/null 2>&1 && ok || nok
check checking gcc;              gcc --version                    >/dev/null 2>&1 && ok || nok
check checking gcc-c++;          g++ --version                    >/dev/null 2>&1 && ok || nok
check checking ncurses;          ls -l /usr/include/ncurses.h     >/dev/null 2>&1 && ok || nok
check checking vsftpd;           ps -ef|grep -qv [v]sftpd         >/dev/null 2>&1 && ok || nok
check getting bochs sources;     git clone ${bochs_src}           >/dev/null 2>&1 && ok || nok
cd bochs
check reset to working revision; git reset --hard ${goodrev}      >/dev/null 2>&1 && ok || nok
cd ..
check checking 386BSD 0.1;       ls -l BSD.tar.bz2                >/dev/null 2>&1 && ok || nok
)|format

exit $noks
